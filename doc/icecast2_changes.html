<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Icecast v2.x Documentation</title>
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div class="boxtest">
<h1>Icecast 2 Changes</h1>
<hr id='titlebar' />
<p>
</p>
<h2>Version 2.4.0</h2>
<h3>New Features</h3>
<p>
<ul>
  <li> Support for Ogg Opus streams
  <li> Support for WebM streams 
  <li> HTTP 1.1 PUT support for source connections. Deprecating SOURCE method.
  <li> <em>Default mount.</em> -
       This <mount type="default"> allows you to define a global set of defaults
       for ALL mounts.
       This way you can use e.g. url-auth for sources and or listeners also for
       dynamically generated mounts.
  <li> <em>Web interface redone</em> -
  <ul>
    <li> Web output properly redone, credit to ePirat.
    <li> Added &lt;audio&gt; element for supported audio streams.
    <li> Now validates completely as XHTML1.0 strict.
    <li> Also improves rendering on mobile devices.
  </ul>
  <li> Added basic JSON API (/status-json.xsl) based on a xml2json template by Doeke Zanstra (see xml2json.xslt). Output is roughly limited to data also visible through status.xsl.
  <li> Send charset in HTTP headers for everything, excluding file-serv and streams.
  <li> Allow (standard strftime(3)) %x codes in &lt;dump-file&gt;. Disabled for win32.
  <li> Added stream_start_iso8601, server_start_iso8601 to statitics.
       ISO8601 compliante timestamps for statistics. Should make usage in
       e.g. JSON much easier.
       Added as new variables to avoid breaking backwards compatibility.
  <li> Now compiles for win32 using mingw
  <li> Added options "headers" and "header_prefix" to URL based listener auth.
  <li> Updated listener_remove handler, added ip= and agent=,
  <li> Allow full URLs to be returned by the master server. 
</ul>
<h3>Fixes</h3>
<ul>
  <li> <strong>SECURITY FIX</strong> - Override supplementary groups if <changeowner> is used
  <li> Fixes for some race conditions
  <li> Dropped debian packaging directory as debian use their own. 
  <li> Send proper HTTP headers in responses to clients.
  <li> corrected Content-Length: header in admin (raw) requests. Thanks to paluh for reporting.
  <li> Escape log entries in access log
  <li> Fixed a memory leak. Lost headers of stream because of wrong ref
        counter in associated refbuf objects.
  <li> avoid memory leak in _parse_mount() when "type"-attribute is set
  <li> Updated web interface to be XHTML compliant.
  <li> Removed status2.xsl from release. It was only a broken example file anyway.
</ul>
<h3>Known issues</h3>
<ul>
  <li> Will crash if certain config tags are left empty.
</ul>

</p>


<h2>Version 2.3</h2>
<h3>New Features</h3>
<p>
<li> Streaming support for ogg speex, ogg flac, ogg midi
<li> intro file support - per mount settable
<li> on-demand relays, global and per-relay settable
<li> fallback to file, extends on the intro file handling.
<li> new mount-level settings
<ol>
	<li>public, type/subtype, genre settings, stream description,
	<li>stream url, stream name, bitrate
		(override what is sent from the source client)
	<li>mp3 metadata interval
	<li>on-[dis]connect scripts can be stated per-mount, invoked at source 
		start/stop and take 1 arg which is the mountpoint.
</ol>
<li> New URL listener authenticator
	.included is an example php-based application that can be used
	 in conjunction with the url authenticator to manage a simple 
         subscription-based broadcast.
<li> HTPasswd authenticator uses in-memory structures now.
<li> On demand files now can be fed through an authenticator

<li> Update to admin/web xslt interface

<h3>Fixes</h3>
<li> real/helix works
<li> win32 access log correct
<li> stats client is stable now (curl -X STATS http://admin@host:port/)
<li> show mountpoints on stats that are inactive but have an active fallback
<li> more updates over HUP possible

</p>
</div>
</body>
</html>
